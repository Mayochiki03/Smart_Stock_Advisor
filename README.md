# Stock Price Prediction using LSTM (stock_analysis7.py)

## ภาพรวม
โปรเจกต์ **Stock Price Prediction using LSTM** ใช้เทคนิค **Long Short-Term Memory (LSTM)** ในการทำนายราคาหุ้นจากข้อมูลราคาหุ้นย้อนหลัง โดยโปรเจกต์นี้สามารถทำนายราคาหุ้นในวันถัดไป พร้อมแสดงกราฟราคาหุ้นจริงและราคาหุ้นที่ทำนายได้จากโมเดล LSTM.

โปรเจกต์นี้ใช้ **Yahoo Finance API** ในการดึงข้อมูลราคาหุ้นย้อนหลัง 5 ปี และใช้ **TensorFlow Keras** ในการสร้างและฝึกโมเดล LSTM เพื่อทำนายราคาหุ้นในวันถัดไป.

## คุณสมบัติ
- **ทำนายราคาหุ้น**: ใช้ LSTM โมเดลในการทำนายราคาหุ้นในวันถัดไปจากข้อมูลราคาหุ้นย้อนหลัง
- **ดึงข้อมูลราคาหุ้นย้อนหลัง 5 ปี**: ดึงข้อมูลราคาหุ้นจาก Yahoo Finance API
- **แสดงกราฟการทำนายราคาหุ้น**: แสดงกราฟราคาหุ้นจริงและราคาหุ้นที่ทำนายจากโมเดล LSTM
- **การอัปเดตข้อมูลแบบเรียลไทม์**: ทำนายราคาหุ้นทุก ๆ 1 นาทีสำหรับหุ้นที่กำหนด

## ความต้องการ
โปรเจกต์นี้ต้องการไลบรารี Python ดังนี้:
- `pandas` สำหรับการจัดการข้อมูล
- `numpy` สำหรับการคำนวณทางคณิตศาสตร์
- `yfinance` สำหรับดึงข้อมูลราคาหุ้นจาก Yahoo Finance
- `sklearn` สำหรับการเตรียมข้อมูล
- `tensorflow` สำหรับการสร้างและฝึกฝนโมเดล LSTM
- `streamlit` สำหรับสร้างเว็บแอปพลิเคชัน
- `plotly` สำหรับการสร้างกราฟ

คุณสามารถติดตั้งไลบรารีทั้งหมดได้โดยใช้คำสั่ง:
```bash
pip install pandas numpy yfinance scikit-learn tensorflow streamlit plotly
```

## การใช้งาน

1.  ตรวจสอบให้แน่ใจว่า Python และไลบรารีที่จำเป็นถูกติดตั้งครบถ้วน
2.  ดาวน์โหลดโปรเจกต์หรือคัดลอกโค้ดไปยังเครื่องของคุณ
3.  รันโปรเจกต์ด้วยคำสั่ง:
    
    bash
    
    คัดลอกโค้ด
    
    `streamlit run stock_analysis6.py` 
    
4.  เมื่อรันโปรเจกต์แล้ว โปรแกรมจะ:
    -   ดึงข้อมูลราคาหุ้นย้อนหลังจาก Yahoo Finance
    -   ทำนายราคาหุ้นในวันถัดไป
    -   แสดงกราฟการทำนายราคาหุ้น
    -   แสดงผลราคาหุ้นที่ทำนายสำหรับวันถัดไป

โปรแกรมจะทำงานบนเว็บแอปพลิเคชัน Streamlit และแสดงผลการทำนายพร้อมกราฟในหน้าเว็บ.

## ฟังก์ชันหลักในโค้ด

### `StockAnalyzer`

-   **fetch_historical_data(stock)**: ดึงข้อมูลราคาหุ้นย้อนหลัง 5 ปีจาก Yahoo Finance
-   **preprocess_data(data)**: ประมวลผลข้อมูลด้วย MinMaxScaler เพื่อปรับข้อมูลให้อยู่ในช่วง 0 ถึง 1
-   **create_dataset(data, time_step=60)**: สร้างชุดข้อมูลสำหรับการฝึกโมเดล LSTM โดยใช้หน้าต่างข้อมูลย้อนหลัง 60 วัน
-   **build_model(X_train)**: สร้างและคอมไพล์โมเดล LSTM
-   **train_model(stock)**: ฝึกโมเดล LSTM และทำนายราคาหุ้น
-   **plot_graph(stock, predicted_price, data)**: สร้างกราฟแสดงราคาหุ้นจริงและราคาหุ้นที่ทำนาย
-   **predict_tomorrow_price(model, scaler, data)**: ทำนายราคาหุ้นในวันถัดไป

### วิธีการใช้งาน

โปรแกรมจะทำนายราคาหุ้นในวันถัดไปสำหรับหุ้นที่ระบุในรายการ และแสดงผลการทำนายในรูปแบบกราฟที่ใช้งานง่าย.
